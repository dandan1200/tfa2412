/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'assignment1.java-application-conventions'
    id 'jacoco'
}

dependencies {
    implementation 'org.apache.commons:commons-text'
    implementation 'com.googlecode.json-simple:json-simple:1.1.1'
    implementation 'org.apache.commons:commons-math3:3.6.1'
    implementation project(':utilities')
    implementation project(':list')
}

application {
    // Define the main class for the application.
    mainClass = 'assignment1.app.app'
}

jacoco {
    toolVersion = "0.8.8"
    reportsDirectory = layout.buildDirectory.dir('/Users/foxbarancewicz/Desktop/SOFT2412/assignment1')
}

test {
    finalizedBy jacocoTestReport // report is always generated after tests run
}

jacocoTestReport {
    dependsOn test // tests are required to run before generating the report
    reports {
        xml.required = false
        csv.required = false
        html.outputLocation = layout.buildDirectory.dir('jacocoHtml')
    }
    afterEvaluate {
        classDirectories.setFrom(files(classDirectories.files.collect {
            fileTree(dir: it, exclude: [
                    "**/app.class"
            ])
        }))
    }
}

run {
    standardInput = System.in
}